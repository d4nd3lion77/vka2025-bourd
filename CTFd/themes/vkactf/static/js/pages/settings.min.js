!function(i){function e(e){for(var t,n,s=e[0],a=e[1],r=e[2],l=0,o=[];l<s.length;l++)n=s[l],Object.prototype.hasOwnProperty.call(f,n)&&f[n]&&o.push(f[n][0]),f[n]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(i[t]=a[t]);for(c&&c(e);o.length;)o.shift()();return d.push.apply(d,r||[]),u()}function u(){for(var e,t=0;t<d.length;t++){for(var n=d[t],s=!0,a=1;a<n.length;a++){var r=n[a];0!==f[r]&&(s=!1)}s&&(d.splice(t--,1),e=l(l.s=n[0]))}return e}var n={},f={7:0},d=[];function l(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=i,l.c=n,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(n,s,function(e){return t[e]}.bind(null,s));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/themes/vkactf2021/static/js";var t=(s=window.webpackJsonp=window.webpackJsonp||[]).push.bind(s);s.push=e;for(var s=s.slice(),a=0;a<s.length;a++)e(s[a]);var c=t;d.push(["./CTFd/themes/vkactf2021/assets/js/pages/settings.js",0,1]),u()}({"./CTFd/themes/vkactf2021/assets/js/pages/settings.js":function(e,t,n){n("./CTFd/themes/vkactf2021/assets/js/pages/main.js");var s=n("./CTFd/themes/vkactf2021/assets/js/utils.js"),l=r(n("./node_modules/jquery/dist/jquery.js")),o=r(n("./CTFd/themes/vkactf2021/assets/js/CTFd.js")),a=n("./CTFd/themes/vkactf2021/assets/js/ezq.js");function r(e){return e&&e.__esModule?e:{default:e}}var i='<div class="alert alert-danger alert-dismissable alert-f text-f" role="alert">\n  <span class="sr-only">Error:</span>\n  {0}\n  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>\n</div>';function u(e){e.preventDefault(),(0,l.default)("#results").empty();var t,n,s,a=(0,l.default)(this),r=a.serializeJSON(!0);for(t in r.fields=[],r)t.match(/fields\[\d+\]/)&&(n={},s=parseInt(t.slice(7,-1)),n.field_id=s,n.value=r[t],r.fields.push(n),delete r[t]);o.default.api.patch_user_private({},r).then(function(n){n.success?(0,l.default)("#results").html('<div class="alert alert-success alert-dismissable submit-row alert-f text-f" role="alert">\n  <strong>Успешно!</strong>\n   Ваш профиль обновлен\n  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>\n</div>'):"errors"in n&&Object.keys(n.errors).map(function(e){var t=a.find("input[name={0}]".format(e)),t=(0,l.default)(t);t.addClass("input-filled-invalid"),t.removeClass("input-filled-valid");e=n.errors[e];(0,l.default)("#results").append(i.format(e))})})}function f(e){e.preventDefault();e=(0,l.default)(this).serializeJSON(!0);o.default.fetch("/api/v1/tokens",{method:"POST",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){e.success&&((e=(0,l.default)('\n        <p>Пожалуйста, скопируйте свой ключ API, он больше не будет показан!</p>\n        <div class="input-group mb-3">\n          <input type="text" id="user-token-result" class="form-control user-input-f" value="'.concat(e.data.value,'" readonly>\n          <div class="input-group-append">\n            <button class="btn invite-btn-f" type="button">\n              <span class="icon-f icon-email-f"></span>\n            </button>\n          </div>\n        </div>\n        '))).find("button").click(function(e){(0,s.copyToClipboard)(e,"#user-token-result")}),(0,a.ezAlert)({title:"API Ключ сгенерирован",body:e,button:"Понятно!",large:!0}))})}function d(e){e.preventDefault();var t=(0,l.default)(this),n=t.data("token-id");(0,a.ezQuery)({title:"Удалить Токен",body:"Вы уверены, что хотите удалить этот токен?",success:function(){o.default.fetch("/api/v1/tokens/"+n,{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){e.success&&t.parent().parent().remove()})}})}(0,l.default)(function(){(0,l.default)("#user-profile-form").submit(u),(0,l.default)("#user-token-form").submit(f),(0,l.default)(".delete-token").click(d),(0,l.default)(".nav-pills a").click(function(e){window.location.hash=this.hash});var e=window.location.hash;e&&(e=e.replace("<>[]'\"",""),(0,l.default)('.nav-pills a[href="'+e+'"]').tab("show"))})}});