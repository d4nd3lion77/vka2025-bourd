!function(l){function e(e){for(var t,a,n=e[0],s=e[1],i=e[2],o=0,r=[];o<n.length;o++)a=n[o],Object.prototype.hasOwnProperty.call(u,a)&&u[a]&&r.push(u[a][0]),u[a]=0;for(t in s)Object.prototype.hasOwnProperty.call(s,t)&&(l[t]=s[t]);for(f&&f(e);r.length;)r.shift()();return d.push.apply(d,i||[]),c()}function c(){for(var e,t=0;t<d.length;t++){for(var a=d[t],n=!0,s=1;s<a.length;s++){var i=a[s];0!==u[i]&&(n=!1)}n&&(d.splice(t--,1),e=o(o.s=a[0]))}return e}var a={},u={10:0},d=[];function o(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return l[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.m=l,o.c=a,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/themes/vkactf2021/static/js";var t=(n=window.webpackJsonp=window.webpackJsonp||[]).push.bind(n);n.push=e;for(var n=n.slice(),s=0;s<n.length;s++)e(n[s]);var f=t;d.push(["./CTFd/themes/vkactf2021/assets/js/pages/teams/private.js",0,1]),c()}({"./CTFd/themes/vkactf2021/assets/js/pages/teams/private.js":function(e,t,a){a("./CTFd/themes/vkactf2021/assets/js/pages/main.js");var n=a("./CTFd/themes/vkactf2021/assets/js/utils.js"),o=i(a("./CTFd/themes/vkactf2021/assets/js/CTFd.js"));a("./node_modules/bootstrap/js/dist/modal.js");var r=i(a("./node_modules/jquery/dist/jquery.js")),s=a("./CTFd/themes/vkactf2021/assets/js/ezq.js");function i(e){return e&&e.__esModule?e:{default:e}}(0,r.default)(function(){window.team_captain&&((0,r.default)(".edit-team").click(function(){(0,r.default)("#team-edit-modal").modal()}),(0,r.default)(".edit-captain").click(function(){(0,r.default)("#team-captain-modal").modal()}),(0,r.default)(".invite-members").click(function(){o.default.fetch("/api/v1/teams/me/members",{method:"POST",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e.success&&(e=e.data.code,e="".concat(window.location.origin).concat(o.default.config.urlRoot,"/teams/invite?code=").concat(e),(0,r.default)("#team-invite-modal input[name=link]").val(e),(0,r.default)("#team-invite-modal").modal())})}),(0,r.default)("#team-invite-link-copy").click(function(e){(0,n.copyToClipboard)(e,"#team-invite-link")}),(0,r.default)(".disband-team").click(function(){(0,s.ezQuery)({title:"Расформировать команду",body:"Вы уверены, что хотите распустить свою команду?",success:function(){o.default.fetch("/api/v1/teams/me",{method:"DELETE"}).then(function(e){return e.json()}).then(function(e){e.success?window.location.reload():(0,s.ezAlert)({title:"Ошибка",body:e.errors[""].join(" "),button:"Принял!"})})}})}));var i=(0,r.default)("#team-info-form");i.submit(function(e){e.preventDefault(),(0,r.default)("#results").empty();var t,a,n,s=(0,r.default)(this).serializeJSON();for(t in s.fields=[],s)t.match(/fields\[\d+\]/)&&(a={},n=parseInt(t.slice(7,-1)),a.field_id=n,a.value=s[t],s.fields.push(a),delete s[t]);o.default.fetch("/api/v1/teams/me",{method:"PATCH",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then(function(e){400===e.status?e.json().then(function(a){var n;a.success||(n='<div class="alert alert-danger alert-dismissable" role="alert">\n  <span class="sr-only">Ошибка:</span>\n  {0}\n  <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span class="text-wite-f" aria-hidden="true">×</span></button>\n</div>',Object.keys(a.errors).map(function(e){var t=i.find("input[name={0}]".format(e)),t=(0,r.default)(t);t.addClass("input-filled-invalid"),t.removeClass("input-filled-valid");e=a.errors[e],e=n.format(e);(0,r.default)("#results").append(e)}))}):200===e.status&&e.json().then(function(e){e.success&&window.location.reload()})})}),(0,r.default)("#team-captain-form").submit(function(e){e.preventDefault();e=(0,r.default)("#team-captain-form").serializeJSON(!0);o.default.fetch("/api/v1/teams/me",{method:"PATCH",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(a){a.success?window.location.reload():((0,r.default)("#team-captain-form > #results").empty(),Object.keys(a.errors).forEach(function(e,t){(0,r.default)("#team-captain-form > #results").append((0,s.ezBadge)({type:"error",body:a.errors[e]}));e=(0,r.default)("#team-captain-form").find("select[name={0}]".format(e)),e=(0,r.default)(e);e.addClass("input-filled-invalid"),e.removeClass("input-filled-valid")}))})})})}});